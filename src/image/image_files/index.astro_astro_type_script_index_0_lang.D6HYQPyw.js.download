import{I as i}from"./marketo.BDgTJDcg.js";import{a as e}from"./dom.2z_JnjJB.js";import{c as r}from"./i18nStore.TxCNUaGF.js";import"./forms.CWVHOfyz.js";import"./ui.CSFnCYRP.js";class l{constructor(t,o,s,n){this.container=t,this.locale=s,this.formShortCode=o,this.onLoad=n?.onLoad,this.onSuccess=n?.onSuccess,this.form=null,this.hidden=n?.hidden,this.init()}init(){this.loadForm()}loadForm(){fetch(`${this.locale&&this.locale!=="en-us"?`/${this.locale.toLowerCase()}`:""}/forms/${this.formShortCode}`).then(t=>{t.ok&&t.text().then(async o=>{this.container.innerHTML=o,i(this.container.querySelector("form")).then(s=>{this.form=s,this.onLoad&&this.onLoad({hidden:this.hidden}),this.loadComplete()})})})}loadComplete(){this.form.onSuccess((t,o)=>{this.container.querySelector(".loadable-form__title").style.display="none",this.onSuccess&&this.onSuccess()})}destroy(){this.container.innerHTML="",this.container=null}}class d{constructor(){this.container=document.querySelector("[data-contact-form-options]")??this.createFormsContainer(),this.locale=this.container.dataset.contactFormLocale,this.formContainer=this.container.querySelector(".contact-forms__form"),this.backContainer=this.container.querySelector(".contact-forms__back"),this.backButton=this.backContainer.querySelector("[data-contact-back]"),this.options=this.container.querySelector(".contact-forms__options"),this.numOptions=this.options.querySelectorAll("[data-contact-form]").length,this.currentForm=null,this.init()}init(){if(this.addEventListeners(),this.numOptions===1){this.backButton.style.display="none";return}document.body.appendChild(this.container)}addEventListeners(){this.container.querySelector("[data-contact-close]").addEventListener("click",()=>{this.hide()}),this.container.addEventListener("touchmove",function(t){t.target.closest(".contact-forms")||t.preventDefault()},{passive:!1}),this.backButton.addEventListener("click",()=>{this.showOptions()}),this.container.querySelectorAll("[data-contact-form]").forEach(t=>{t.addEventListener("click",()=>{this.showContactForm(t.dataset.contactForm)})})}createFormsContainer(){return e(`<div class="contact-forms v2">
        <div class="contact-forms__container">
           <div class="contact-forms__close-container">
             <button class="contact-forms__close" data-contact-close>
               <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" fill="none" viewBox="0 0 25 24"><g clip-path="url(#plusicon)"><path fill="#fff" fill-rule="evenodd" d="M13.3 9.9V.7h-2v9.2h2Zm-2 3.1H1v-2h10.3a2 2 0 0 1 2 2v10.3h-2V13Zm12.3-2h-9.2v2h9.2v-2Z" clip-rule="evenodd"></path></g><defs><clipPath id="plusicon"><path fill="#fff" d="M.3 0h24v24H.3z"></path></clipPath></defs></svg>
             </button>
           </div>
            <div class="contact-forms__body">
              <div class="contact-forms__options">
               <div class="contact-forms__header">
                  <h2 class="contact-forms__title">What team would you like to contact today?</h2>
               </div>
                <button class="button contact-forms__option" data-contact-form="sales" data-contact-form-id="1363">Sales</button>
                <button class="button contact-forms__option" data-contact-form="partner" data-contact-form-id="1364">Tech Partnership</button>
                <button class="button contact-forms__option" data-contact-form="reseller" data-contact-form-id="1369">Reseller</button>
                <a href="https://support.skydio.com" class="button contact-forms__option">Support</a>
                <button class="button contact-forms__option" data-contact-form="press" data-contact-form-id="1368">Press</button>
                <button class="button contact-forms__option" data-contact-form="skydio-for-all" data-contact-form-hidden="true" data-contact-form-id="1255" style="display:none">Skydio for All</button>
              </div>
              <div class="contact-forms__form">
              </div>
              <div class="contact-forms__back skydio-form">
                 <button class="button button--transparent contact-forms__back-button" data-contact-back>Back</button>
              </div>
            </div>
        </div>
      </div>`)}showContactForm(t){this.formContainer.innerHTML="";const o=this.options.querySelector(`[data-contact-form="${t}"]`);if(!o)if(this.numOptions===1)t=this.options.querySelector("[data-contact-form]").dataset.contactForm;else{this.showOptions();return}this.currentForm=new l(this.formContainer,t,r.value,{onLoad:this.formLoaded.bind(this),onSuccess:this.formPosted.bind(this),hidden:o.dataset.contactFormHidden==="true"}),this.showForm()}formLoaded({hidden:t=!1}){t||this.backContainer.classList.add("contact-forms__back--visible")}formPosted(){this.backContainer.classList.remove("contact-forms__back--visible")}showOptions(){this.options.classList.remove("contact-forms__options--hidden"),this.formContainer.classList.remove("contact-forms__form--visible"),this.backContainer.classList.remove("contact-forms__back--visible"),this.currentForm&&(this.currentForm.destroy(),this.currentForm=null)}showForm(){this.options.classList.add("contact-forms__options--hidden"),this.formContainer.classList.add("contact-forms__form--visible")}get open(){return this.container.classList.contains("contact-forms--open")}set open(t){t?(window.innerWidth<1024&&document.body.classList.add("no-scroll"),this.container.classList.add("contact-forms--open")):(document.body.classList.remove("no-scroll"),this.container.classList.remove("contact-forms--open"),this.showOptions())}show(t){this.numOptions===1&&(t=this.options.querySelector("[data-contact-form]").dataset.contactForm),t!=="all"&&(this.options.classList.add("contact-forms--noanimation"),this.showContactForm(t),window.requestAnimationFrame(()=>{this.options.classList.remove("contact-forms--noanimation")})),this.open=!0}hide(){this.open=!1}}const c=new d,h=()=>{document.querySelectorAll("[data-contact]").forEach(s=>{s.addEventListener("click",n=>{c.show(s.dataset.contact),n.preventDefault(),n.stopPropagation()})});const t=new URLSearchParams(window.location.search);let o=t.get("chat")==="sales"?"all":t.get("chat");t.get("contact")&&(o=t.get("contact")),o&&c.show(o)};h();
