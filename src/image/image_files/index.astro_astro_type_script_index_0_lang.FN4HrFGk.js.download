import{g as b}from"./index.Brfk6Bdo.js";import{d as l}from"./events.VnnalJbv.js";import{N as E}from"./nav.Bs2ap0R-.js";class c{lastEvent=null;constructor(t){t&&(this.container=t,this.events=[],this.mouseOver=!1,this._addEventListeners())}_createEventListener(t,e){this.events[e??t]=[],this.container.addEventListener(t,i=>this.callEvents(e??t,i))}_addEventListeners(){this._createEventListener("mouseover"),this._createEventListener("mouseout"),this._createEventListener("keydown","itemselected")}fireAllEvents(t){this.events[t].forEach(e=>e(this))}preventDefault(){this.lastEvent&&this.lastEvent.preventDefault&&this.lastEvent.preventDefault()}callEvents(t,e){switch(t){case"mouseover":this.mouseOver=!0;break;case"mouseout":this.mouseOver=!1;break;case"itemselected":this.mouseOver=e.keyCode===32||e.keyCode===13;break}this.lastEvent=e,this.fireAllEvents(t)}on(t,e){this.events[t]||this._createEventListener(t),this.events[t].push(e)}}class S extends c{constructor(t,e){super(t),this.container=t,this.options=e,this.init()}init(){this.container.querySelector(".sub-nav__link-inner")||(this.container.innerHTML=`<span class="sub-nav__link-inner"><span class="sub-nav__link-text">${this.container.innerHTML}</span></span>`,this.hide())}get animating(){return this.container.classList.contains("sub-nav__link--animate")}set animating(t){t?this.container.classList.add("sub-nav__link--animate"):this.container.classList.remove("sub-nav__link--animate")}show(){this.container.classList.remove("sub-nav__link--initial")}hide(){this.container.classList.add("sub-nav__link--initial"),this.animating=!1}}class m{constructor(t,e={animDuration:.8}){this.container=t,this.menuItems=Array.from(this.container.querySelectorAll(".sub-nav__link")).map(i=>new S(i,e)),this.columns=Array.from(this.container.querySelectorAll(".sub-nav__column")),this.columns.length===0&&(this.columns=[this.container])}show(){if(this.menuItems.length===0){this.columns.forEach(e=>e.classList.remove("sub-nav__column--initial"));return}const t=.3/this.menuItems.length;this.tl=b.timeline({stagger:t}),this.tl.to(this.menuItems,{delay:.3,stagger:{each:t,duration:.3,ease:"power2.inOut",onComplete:function(e){this.targets()[0].animating=!1},onStart:function(e){this.targets()[0].show()}},onStart:()=>{this.columns.forEach(e=>e.classList.remove("sub-nav__column--initial"))}})}hide(){this.tl&&(this.tl.pause(),this.tl.seek(0)),this.menuItems.forEach(t=>t.hide()),this.columns.forEach(t=>t.classList.add("sub-nav__column--initial"))}}class y extends c{constructor(t){super(t),this.key=this.container.dataset.subNav,this.container=t,this.items=Array.from(this.container.querySelectorAll("[data-sub-nav-item]")),this.animationColumns=Array.from(this.container.querySelectorAll("[data-sub-nav-column]")).map(e=>new m(e)),this.animation=new m(this.container),this.media=[],this.visible=!1,this.init()}init(){this.container.querySelectorAll("[data-button-video-pid]").forEach(t=>{t.addEventListener("click",()=>this.openMedia(t.dataset.buttonVideoPid))})}get isMobile(){return window.innerWidth<1280}openMedia(t){globalThis.dispatchEvent(new CustomEvent(`openModal:${t}`))}show(){this.isMobile?this.animation.show():this.animationColumns.forEach(t=>t.show()),this.container.classList.remove("sub-nav--initial"),this.visible=!0}hide(){this.visible&&(this.isMobile?this.animation.hide():this.animationColumns.forEach(t=>t.hide()),this.container.classList.add("sub-nav--initial"),this.visible=!1)}}class L extends c{constructor(t,e={}){super(t),this.container=t,this.callbacks=e,this.subNavigationGroups=Array.from(this.container.querySelectorAll("[data-sub-nav]")).map(i=>new y(i)),this.current=null,this.init()}get open(){return this.current!==null}init(){this.callbacks.mouseOver&&this.on("mouseenter",()=>this.callbacks.mouseOver()),this.callbacks.mouseOut&&this.on("mouseleave",()=>this.callbacks.mouseOut())}set maxHeight(t){this._maxHeight=t}get maxHeight(){return this._maxHeight}set height(t){t>0&&this.maxHeight&&window.innerWidth<1280&&(t=this.maxHeight),this.container.style.setProperty("--sub-nav-height",`${t}px`)}updateHeight(){this.current&&(this.height=this.current.container.offsetHeight)}show(t){if(!this.current||this.current.key!==t){const e=this.subNavigationGroups.filter(i=>i.key===t).pop();e?.show(),this.current?.hide(),this.current=e}this.updateHeight()}hide(t){this.current?.hide(),this.height=0,this.current=null}}class N extends c{constructor(t,e={}){super(t),this.key=this.container.dataset.navButton,this.callbacks=e}init(){this.on("click",()=>this.callbacks.show(this.key))}set active(t){this._active=t}get active(){return this._active}}class _ extends c{constructor(t,e){super(t),this.container=t,this.callbacks=e,this.key=this.container.dataset.navButton,this.visible=!1,this.active=!1,this.mouseMoved=!1,this.mouseTimeout=null,this.init()}init(){this.on("mouseover",()=>{this.mouseTimeout=setTimeout(()=>{this.mouseMoved=!0,setTimeout(()=>{this.mouseMoved=!1},100),this.show()},150)}),this.on("mouseout",()=>{this.mouseTimeout&&(clearTimeout(this.mouseTimeout),this.mouseTimeout=null),this.active&&this.hide()}),this.on("click",t=>{if(this.mouseMoved&&this.active){t.preventDefault(),this.mouseMoved=!1;return}this.active?this.hide():this.show()})}show(){this.callbacks.show&&this.callbacks.show(this.key)}hide(){this.callbacks.hide&&this.callbacks.hide(this.key)}set active(t){t!==this._active&&(t?(this.container.classList.add("nav__button--selected"),this.visible=!0):(this.container.classList.remove("nav__button--selected"),this.visible=!1),this._active=t)}get active(){return this._active}}class k{constructor(t){this.container=t,this.modes={MOBILE:"mobile",DESKTOP:"desktop"},this.mode=this.modes.DESKTOP,this.subNavigationContainer=this.container.querySelector("[data-sub-nav-container]"),this.navigationItems={},this.mobileNavigationItems={},this.subNavigation=null,this.init()}init(){Array.from(this.container.querySelectorAll("[data-nav] [data-nav-button]")).forEach(t=>this.addNavigationItem(t)),Array.from(this.subNavigationContainer.querySelectorAll("[data-nav-button]")).forEach(t=>this.addMobileNavigationItem(t)),this.subNavigation=new L(this.subNavigationContainer,{mouseOver:t=>this.mode===this.modes.DESKTOP?this.show(t):null,mouseOut:t=>this.mode===this.modes.DESKTOP?this.hide(t):null}),Array.from(this.subNavigationContainer.querySelectorAll("[data-sub-nav-mobile-back]")).forEach(t=>{t.addEventListener("click",()=>this.show("main"))}),this.adjustForDeviceWidth(),window.addEventListener("resize",()=>this.adjustForDeviceWidth()),document.addEventListener("keydown",t=>{(t.key==="Escape"||t.keyCode===27)&&this.subNavigation.hide()})}addMobileNavigationItem(t){const e=new N(t,{show:i=>this.show(i),hide:i=>this.hide(i)});this.mobileNavigationItems[t.dataset.navButton]=e,e.on("click",()=>this.show(t.dataset.navButton))}addNavigationItem(t){this.navigationItems[t.dataset.navButton]=new _(t,{show:e=>this.show(e),hide:e=>this.hide(e)})}show(t){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),t&&(this.navigationItems[this.subNavigation.current?.key]&&(this.navigationItems[this.subNavigation.current.key].active=!1),this.navigationItems[t]&&(this.navigationItems[t].active=!0),this.subNavigation.show(t))}set maxSubNavHeight(t){this.subNavigation.maxHeight=t}get maxSubNavHeight(){return this.subNavigation.maxHeight}hideSubNavigation(){Object.keys(this.navigationItems).forEach(t=>{this.navigationItems[t].active=!1}),this.subNavigation.hide()}hideDesktop(){this.timeout=setTimeout(()=>{this.hideSubNavigation(),this.timeout=null},300)}hideMobile(){this.hideSubNavigation()}hide(){this.mode===this.modes.DESKTOP?this.hideDesktop():this.hideMobile()}adjustForDeviceWidth(){const t=this.mode;this.mode=window.innerWidth<1280?this.modes.MOBILE:this.modes.DESKTOP,t!==this.mode&&this.hide()}}class p{constructor(t){this.container=t,this.initEventListeners()}setLocaleCookie(t){const e=new Date;e.setTime(e.getTime()+30*24*60*60*1e3);const i="expires="+e.toUTCString();document.cookie="locale="+t+";"+i+";path=/"}initEventListeners(){this.container?.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>(this.setLocaleCookie(t.dataset.lsLang),window.location.reload(),!1))})}}class I{constructor(t,e){this.buttonElement=t,this.switcherElement=e,this.timeout=null,this.init()}init(){this.buttonElement.addEventListener("click",()=>this.toggle()),this.buttonElement.addEventListener("keydown",t=>{t.keyCode===13&&this.toggle()}),this.buttonElement.addEventListener("mouseenter",()=>this.show()),this.buttonElement.addEventListener("mouseleave",()=>this.hide()),this.switcherElement.addEventListener("mouseenter",()=>this.show()),this.switcherElement.addEventListener("mouseleave",()=>this.hide()),this.lang=new p(this.switcherElement)}toggle(){this.switcherElement.classList.contains("locale-switcher--active")?this.hide():this.show()}show(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.switcherElement.classList.add("locale-switcher--active")}hide(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.switcherElement.classList.remove("locale-switcher--active")}}/*! js-cookie v3.0.5 | MIT */function d(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)n[i]=e[i]}return n}var O={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function v(n,t){function e(s,h,o){if(!(typeof document>"u")){o=d({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in o)o[r]&&(a+="; "+r,o[r]!==!0&&(a+="="+o[r].split(";")[0]));return document.cookie=s+"="+n.write(h,s)+a}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var h=document.cookie?document.cookie.split("; "):[],o={},a=0;a<h.length;a++){var r=h[a].split("="),w=r.slice(1).join("=");try{var u=decodeURIComponent(r[0]);if(o[u]=n.read(w,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:e,get:i,remove:function(s,h){e(s,"",d({},h,{expires:-1}))},withAttributes:function(s){return v(this.converter,d({},this.attributes,s))},withConverter:function(s){return v(d({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}var g=v(O,{path:"/"});const f="skydio-banner";class C{constructor(t,e){this.container=t,this.header=e,this.bannerCleared=g.get(f)==="true",this.addEventListeners(),this.calculateHeaderPosition()}set bannerCleared(t){t?this.container.classList.add("hidden"):this.container.classList.remove("hidden"),g.set(f,t===!0?"true":null),this._bannerCleared=t}get bannerCleared(){return this._bannerCleared}addEventListeners(){this.bannerCleared||(window.addEventListener("scroll",()=>this.calculateHeaderPosition()),document.querySelector(".announcement-banner__dismiss")?.addEventListener("click",()=>{this.bannerCleared=!0,this.calculateHeaderPosition()}),window.addEventListener("resize",()=>this.calculateHeaderPosition()))}get height(){return this.container.offsetHeight}set headerPos(t){if(this._headerPos!==t){this._headerPos=t;const e=new CustomEvent("headerOffsetChange",{detail:{offset:this._headerPos,offsetName:"announcementBanner"}});document.dispatchEvent(e)}}get headerPos(){return this._headerPos}calculateHeaderPosition(){const t=this.height-window.scrollY,e=window.getComputedStyle(this.header),i=parseInt(e.marginBottom);t>=0?this.header.style.marginTop=i+this.height+"px":this.headerPos!==0&&(this.header.style.marginTop=i+"px")}}class H{root;wrapper;container;dropNavigations=new Map;activeDropNavigation;mouseOutId;mouseOutTimeout;focusOutTimeout;keydownFunc;#t=new Map;#e=new Map;VISIBLE_CLASS="l2nav__drop--visible";BUTTON_ACTIVE_CLASS="l2nav__drop-button--active";constructor(t){this.container=t,this.root=t.parentElement,this.init()}init(){Array.from(this.root.querySelectorAll(".l2nav__drop")).forEach(t=>{this.dropNavigations.set(t.dataset.dropmenuId,t),t.addEventListener("mouseover",()=>{t.dataset.dropmenuId===this.mouseOutId&&this.cancelMouseOut()}),t.addEventListener("mouseout",()=>{this.mouseOut(t.dataset.dropmenuId)})}),Array.from(this.container.querySelectorAll(".l2nav__drop-button")).forEach(t=>{t.addEventListener("click",()=>this.dropMenuClick(t)),t.addEventListener("mouseover",()=>{this.dropMenuHover(t)}),t.addEventListener("mouseout",()=>{this.mouseOut(t.dataset.dropmenuId)})}),window.addEventListener("resize",this.resize.bind(this)),this.container.addEventListener("scroll",this.showHideScrollButtons.bind(this)),this.addWrapper(),this.showHideScrollButtons()}addWrapper(){const t=document.createElement("div");t.classList.add("l2nav__wrapper"),this.wrapper=t,this.root.removeChild(this.container),this.wrapper.appendChild(this.container),this.root.insertBefore(t,this.root.querySelector("[data-contact]"))}resize(){this.showHideScrollButtons()}showHideScrollButtons(){const t=this.container.scrollWidth,e=this.container.clientWidth,i=this.container.scrollLeft;i<10?this.showScrollButton("left",!1):this.showScrollButton("left",!0),i+e-t<0?this.showScrollButton("right",!0):this.showScrollButton("right",!1)}get showScrollLeftButton(){return!!this.#e.get("left")}showScrollButton(t,e){const i=this.#e.get(t);if(e===i)return;this.#e.set(t,e);const s=this.#t.get(t);e&&!s&&this.#t.set(t,this.createScrollButton(t)),e?(this.wrapper.classList.add(`l2nav--button-${t}`),this.#t.get(t)?.classList.remove("hidden")):(this.wrapper.classList.remove(`l2nav--button-${t}`),this.#t.get(t)?.classList.add("hidden"))}createScrollButton(t){const e=document.createElement("button");return e.classList.add(`l2nav__${t}`),e.addEventListener("click",()=>{t=="left"?this.container.scrollLeft-=this.container.clientWidth*.75:this.container.scrollLeft+=this.container.clientWidth*.75}),this.wrapper.appendChild(e),e}mouseOut(t){this.mouseOutId=t,this.mouseOutTimeout=setTimeout(this.closeDropNavigation.bind(this),100)}cancelMouseOut(){this.mouseOutId=null,clearTimeout(this.mouseOutTimeout),this.mouseOutTimeout=null}dropMenuClick(t){const e=this.activeDropNavigation?.dataset.dropmenuId;this.activeDropNavigation&&this.closeDropNavigation(),e!==t.dataset.dropmenuId&&(this.openDropNavigation(t.dataset.dropmenuId,t),this.setDropNavigationFocus())}setDropNavigationFocus(){this.activeDropNavigation.querySelector("a").focus()}dropMenuHover(t){const e=this.activeDropNavigation?.dataset.dropmenuId,i=t.dataset.dropmenuId;i===this.mouseOutId&&this.cancelMouseOut(),e&&e!==i&&this.closeDropNavigation(),e!==i&&this.openDropNavigation(i,t)}getOffsetXForDropNavigation(t){const e=this.root.getBoundingClientRect(),s=t.getBoundingClientRect().left-e.left;return s<8?8:s}closeDropNavigation(){const t=this.activeDropNavigation.dataset.dropmenuId;this.activeDropNavigation.classList.remove(this.VISIBLE_CLASS),this.activeDropNavigation=null,this.container.querySelector(`[data-dropmenu-id="${t}"]`).classList.remove(this.BUTTON_ACTIVE_CLASS),this.disableEscapeSequence()}disableEscapeSequence(){this.keydownFunc&&document.removeEventListener("keydown",this.keydownFunc)}enableEscapeSequence(){this.disableEscapeSequence(),this.keydownFunc=t=>{const e=this.activeDropNavigation.dataset.dropmenuId;if(t.key==="Escape"&&(this.container.querySelector(`[data-dropmenu-id="${e}"]`)?.focus(),this.closeDropNavigation()),t.key==="Tab"){if(t.target.nextElementSibling)return;let s=this.container.querySelector(`[data-dropmenu-id="${e}"]`)?.parentElement?.nextElementSibling;s&&(s.tagName==="div"&&(s=s.firstElementChild),t.preventDefault(),s.focus(),this.closeDropNavigation())}},document.addEventListener("keydown",this.keydownFunc)}openDropNavigation(t,e){this.activeDropNavigation=this.dropNavigations.get(t),this.activeDropNavigation.style.left=`${this.getOffsetXForDropNavigation(e)}px`,this.activeDropNavigation.classList.add(this.VISIBLE_CLASS),this.container.querySelector(`[data-dropmenu-id="${t}"]`).classList.add(this.BUTTON_ACTIVE_CLASS),this.enableEscapeSequence()}}class D{constructor(t,e={}){this.container=t,this.analytics=new E(t,"header","a,button"),this.navigation=new k(t),this.mobileMenuButton=this.container.querySelector("[data-mobile-menu-button]"),this.logo=t.querySelector("[data-logo]"),this.offsets={},this.events={offsetChange:[],heightChange:[]},this.scrollDirection=0,this.lastKnownScrollPosition=0,this.scrollDirectionChangePosition=0,this.mobileLanguages=new p(t.querySelector("[data-mobile-lang]")),this.toggleHeaderEnabled=!1,this._secondaryNavIsMain=!1;const i=this.container.querySelector(".header__bottom");this.hasSecondaryNav=!!i,this.hasSecondaryNav&&(this.secondaryNav=new H(this.container.querySelector(".l2nav")));const{search:s=!0}=e;this.init(),this.updateHeaderSize()}init(){this.createBanner(),this.createLanguageSwitcher(),this.createEventListeners(),this.adjustForDeviceWidth(),this.toggleHideShow()}createBanner(){const t=document.getElementById("announcement-banner");t&&(this.announcementBanner=new C(t,this.container))}createLanguageSwitcher(){const t=this.container.querySelector("[data-locale-button]"),e=this.container.querySelector("[data-locale-switcher]");t&&e&&(this.languageSwitcher=new I(t,e))}createEventListeners(){this.mobileMenuButton.addEventListener("click",()=>this.toggleMobileMenu()),window.addEventListener("resize",l(this.adjustForDeviceWidth.bind(this),200)),window.addEventListener("resize",l(this.updateHeaderSize.bind(this),200)),window.addEventListener("resize",l(this.toggleHideShow.bind(this),200)),window.addEventListener("scroll",l(this.hideShowHeader.bind(this),10))}callEvent(t,...e){this.events[t]&&this.events[t].forEach(i=>i(...e))}toggleHideShow(){window.innerHeight<800&&window.innerWidth>1280?this.toggleHeaderEnabled=!0:(this.toggleHeaderEnabled=!1,this.headerHidden&&this.hide())}hide(){const t=this.container.getBoundingClientRect().bottom;this.headerHidden=!0,this.secondaryNavIsMain=!0,this.setBodyProperty("--header-top",`-${t}px`)}show(){this.headerHidden=!1,this.secondaryNavIsMain=this.showSecondaryOnly,this.setBodyProperty("--header-top","0px")}hideShowHeader(){if(!this.toggleHeaderEnabled){this.secondaryNavIsMain=this.showSecondaryOnly;return}const t=window.scrollY,e=t-this.lastKnownScrollPosition>0?1:-1;if(e!==this.scrollDirection&&(this.scrollDirection=e,this.scrollDirectionChangePosition=t),t<100){this.show();return}t-this.scrollDirectionChangePosition>30&&!this.headerHidden?this.hide():t-this.scrollDirectionChangePosition<-60&&this.headerHidden&&this.show(),this.lastKnownScrollPosition=t}setBodyProperty(t,e,i){document.body.style.getPropertyValue(t)!==e&&(document.body.style.setProperty(t,e),typeof i=="function"&&i())}headerOffsetChange(t,e){this.offsets[t]=e,this.updateOffset()}get offsetHeight(){return this.container.offsetHeight+this.container.offsetTop+16}setHeightOnBody(){this.setBodyProperty("--header-height",`${this.offsetHeight}px`,()=>{this.callEvent("heightChange",this.container.offsetHeight)})}updateHeaderSize(){this.setHeightOnBody()}updateOffset(){this.top=Object.values(this.offsets).reduce((t,e)=>t+e,0)}getAvailableSubNavHeight(){const t=this.container.querySelector(".header__top").offsetHeight;return window.innerHeight-t}set mobileMenuOpen(t){t?(this.navigation.show("main"),this.container.classList.add("header--mobile"),document.body.classList.add("no-scroll")):(this.navigation.hide(),this.container.classList.remove("header--mobile"),document.body.classList.remove("no-scroll")),this._mobileMenuOpen=t}get showSecondaryOnly(){return window.scrollY>window.innerHeight/2}get mobileMenuOpen(){return this._mobileMenuOpen}get secondaryNavIsMain(){return this._secondaryNavIsMain}set secondaryNavIsMain(t){if(this._secondaryNavIsMain=t,!!this.hasSecondaryNav){var e=this.container.classList.contains("header--l2-only");this.container.classList.toggle("header--l2-only",t),e&&(t||(this.container.classList.add("header--l2-only-end"),window.requestAnimationFrame(()=>{setTimeout(()=>{this.container.classList.remove("header--l2-only-end")},300)})))}}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}adjustForDeviceWidth(){this.mobileMenuOpen&&window.innerWidth>=1280?(this.mobileMenuOpen=!1,this.navigation.maxSubNavHeight=null):this.navigation.maxSubNavHeight=this.getAvailableSubNavHeight()}}new D(document.querySelector("header.header"),{search:!1});
